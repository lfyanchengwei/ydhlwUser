import{o as e,c as n,w as t,j as i,k as a,l as s,f as c,m as o,p as l,d,e as u,t as r,q as f,u as p,F as _,v as g,g as h,x as m,i as x,r as y,n as v,y as k,I as b,S,z as I,A as P,B as w}from"./index-Cr98tpWe.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const z=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const T=C({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:z}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(o,l,d,u,r,f){const p=c;return e(),n(p,{style:a(f.styleObj),class:s(["uni-icons",["uniui-"+d.type,d.customPrefix,d.customPrefix?d.type:""]]),onClick:f._onClick},{default:t((()=>[i(o.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","onClick"])}],["__scopeId","data-v-5610c8db"]]);function $(e,n){return"string"==typeof e?n:e}const N={en:{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"},es:{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art��culo/P��gina"},fr:{"uni-pagination.prevText":"précédente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"},"zh-Hans":{"uni-pagination.prevText":"上一页","uni-pagination.nextText":"下一页","uni-pagination.piecePerPage":"条/页"},"zh-Hant":{"uni-pagination.prevText":"上一頁","uni-pagination.nextText":"下一頁","uni-pagination.piecePerPage":"條/頁"}},{t:A}=o(N);const j=C({name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:()=>[20,50,100,500]}},data:()=>({pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}),computed:{piecePerPage(){return this.piecePerPageText||A("uni-pagination.piecePerPage")},prevPageText(){return this.prevText||A("uni-pagination.prevText")},nextPageText(){return this.nextText||A("uni-pagination.nextText")},maxPage(){let e=1,n=Number(this.total),t=Number(this.pageSize);return n&&t&&(e=Math.ceil(n/t)),e},paper(){const e=this.currentIndex,n=this.pagerCount,t=this.total,i=this.pageSize;let a=[],s=[],c=Math.ceil(t/i);for(let l=0;l<c;l++)a.push(l+1);s.push(1);const o=a[a.length-(n+1)/2];return a.forEach(((t,i)=>{(n+1)/2>=e?t<n+1&&t>1&&s.push(t):e+2<=o?t>e-(n+1)/2&&t<e+(n+1)/2&&s.push(t):(t>e-(n+1)/2||c-n<t)&&t<a[a.length-1]&&s.push(t)})),c>n?((n+1)/2>=e?s[s.length-1]="...":e+2<=o?(s[1]="...",s[s.length-1]="..."):s[1]="...",s.push(a[a.length-1])):(n+1)/2>=e||e+2<=o||(s.shift(),s.push(a[a.length-1])),s}},watch:{current:{immediate:!0,handler(e,n){this.currentIndex=e<1?1:e}},value:{immediate:!0,handler(e){1===Number(this.current)&&(this.currentIndex=e<1?1:e)}},pageSizeIndex(e){this.$emit("pageSizeChange",this.pageSizeRange[e])}},methods:{pickerChange(e){this.pageSizeIndex=e.detail.value,this.pickerClick()},pickerClick(){const e=document.querySelector("body");if(!e)return;const n="uni-pagination-picker-show";this.pickerShow=!this.pickerShow,this.pickerShow?e.classList.add(n):setTimeout((()=>e.classList.remove(n)),300)},selectPage(e,n){if(parseInt(e))this.currentIndex=e,this.change("current");else{let e=Math.ceil(this.total/this.pageSize);if(n<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(n>=6)return void(this.currentIndex+5>e?this.currentIndex=e:this.currentIndex+=5)}},clickLeft(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change(e){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:e,current:this.currentIndex})}}},[["render",function(i,a,o,y,v,k){const b=c,S=$(l("uni-icons"),T),I=h,P=m,w=x;return e(),n(w,{class:"uni-pagination"},{default:t((()=>[!0===o.showPageSize||"true"===o.showPageSize?(e(),n(P,{key:0,class:"select-picker",mode:"selector",value:v.pageSizeIndex,range:o.pageSizeRange,onChange:k.pickerChange,onCancel:k.pickerClick,onClick:k.pickerClick},{default:t((()=>[d(I,{type:"default",size:"mini",plain:!0},{default:t((()=>[d(b,null,{default:t((()=>[u(r(o.pageSizeRange[v.pageSizeIndex])+" "+r(k.piecePerPage),1)])),_:1}),d(S,{class:"select-picker-icon",type:"arrowdown",size:"12",color:"#999"})])),_:1})])),_:1},8,["value","range","onChange","onCancel","onClick"])):f("",!0),d(w,{class:"uni-pagination__total is-phone-hide"},{default:t((()=>[u("共 "+r(o.total)+" 条",1)])),_:1}),d(w,{class:s(["uni-pagination__btn",1===v.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":1===v.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:k.clickLeft},{default:t((()=>[!0===o.showIcon||"true"===o.showIcon?(e(),n(S,{key:0,color:"#666",size:"16",type:"left"})):(e(),n(b,{key:1,class:"uni-pagination__child-btn"},{default:t((()=>[u(r(k.prevPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"]),d(w,{class:"uni-pagination__num uni-pagination__num-flex-none"},{default:t((()=>[d(w,{class:"uni-pagination__num-current"},{default:t((()=>[d(b,{class:"uni-pagination__num-current-text is-pc-hide current-index-text"},{default:t((()=>[u(r(v.currentIndex),1)])),_:1}),d(b,{class:"uni-pagination__num-current-text is-pc-hide"},{default:t((()=>[u("/"+r(k.maxPage||0),1)])),_:1}),(e(!0),p(_,null,g(k.paper,((i,a)=>(e(),n(w,{key:a,class:s([{"page--active":i===v.currentIndex},"uni-pagination__num-tag tag--active is-phone-hide"]),onClick:e=>k.selectPage(i,a)},{default:t((()=>[d(b,null,{default:t((()=>[u(r(i),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),d(w,{class:s(["uni-pagination__btn",v.currentIndex>=k.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":v.currentIndex===k.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:k.clickRight},{default:t((()=>[!0===o.showIcon||"true"===o.showIcon?(e(),n(S,{key:0,color:"#666",size:"16",type:"right"})):(e(),n(b,{key:1,class:"uni-pagination__child-btn"},{default:t((()=>[u(r(k.nextPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"])])),_:1})}],["__scopeId","data-v-bd0b20fd"]]);const R=C({data:()=>({banners:[{id:1,image:"/static/img/activity/news/new1.jpg"},{id:2,image:"/static/img/activity/news/new2.jpg"},{id:3,image:"/static/img/activity/news/new3.jpg"}],categories:["全部活动","讲座","比赛","志愿活动"],selectedCategory:0,activities:[],current:1,total:0,pageSize:5}),onLoad(){},computed:{filteredActivities(){return 0===this.selectedCategory?this.activities:this.activities.filter((e=>e.type===this.categories[this.selectedCategory]))}},methods:{handlePageChange(e){console.log(e),this.current=e.current,this.fetchActivities()},selectCategory(e){this.selectedCategory=e},fetchActivities(){console.log(this.current,this.pageSize,this.total),y({url:`http://154.8.140.108:8883/api/events/list?pageNum=${this.current}&pageSize=${this.pageSize}`,method:"GET",success:e=>{1===e.data.code?(this.activities=e.data.data.records,this.total=e.data.data.total):console.error("Failed to fetch activities:",e.data.msg)},fail:e=>{console.error("Request failed:",e)}})},goToActivityDetail(e){v({url:`/pages/eventDetail/eventDetail?eventId=${e}`})}},mounted(){this.fetchActivities()}},[["render",function(i,a,o,f,m,y){const v=c,C=b,z=h,T=x,N=S,A=P,R=$(l("uni-pagination"),j),q=k("uni-section"),D=w,F=I;return e(),n(T,{class:"homepage"},{default:t((()=>[d(T,{class:"navbar"},{default:t((()=>[d(v,{class:"title"},{default:t((()=>[u("活动助手")])),_:1}),d(T,{class:"search-bar"},{default:t((()=>[d(C,{type:"text",placeholder:"搜索活动"}),d(z,null,{default:t((()=>[u("搜索")])),_:1})])),_:1})])),_:1}),d(T,{class:"category-bar"},{default:t((()=>[d(N,{"scroll-x":"true",class:"categories"},{default:t((()=>[(e(!0),p(_,null,g(m.categories,((i,a)=>(e(),n(v,{class:s(["category-item",{"active-category":m.selectedCategory===a}]),key:a,onClick:e=>y.selectCategory(a)},{default:t((()=>[u(r(i),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),d(T,{class:"activity-list"},{default:t((()=>[(e(!0),p(_,null,g(y.filteredActivities,(i=>(e(),n(T,{class:"activity-card",key:i.eventId,onClick:e=>y.goToActivityDetail(i.eventId)},{default:t((()=>[d(A,{class:"activity-image",src:i.picUrl},null,8,["src"]),d(T,{class:"activity-info"},{default:t((()=>[d(v,{class:"activity-title"},{default:t((()=>[u(r(i.title),1)])),_:2},1024),d(v,{class:"activity-details"},{default:t((()=>[u(r(i.eventDate)+" | "+r(i.location),1)])),_:2},1024),d(v,{class:"activity-status"},{default:t((()=>[u("容量："+r(i.capacity),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),d(q,{title:"默认样式",type:"line",padding:""},{default:t((()=>[d(R,{"page-size":m.pageSize,current:m.current,total:m.total,title:"标题文字",onChange:y.handlePageChange},null,8,["page-size","current","total","onChange"])])),_:1})])),_:1}),d(T,{class:"carousel"},{default:t((()=>[d(F,{autoplay:"true",interval:"3000",circular:"true"},{default:t((()=>[(e(!0),p(_,null,g(m.banners,(i=>(e(),n(D,{key:i.id},{default:t((()=>[d(A,{src:i.image,class:"banner-image"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1}),d(T,{class:"announcement"},{default:t((()=>[d(v,null,{default:t((()=>[u("平台公告：新活动已上线，快来报名！")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-7225ff8e"]]);export{R as default};
